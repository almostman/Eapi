//# sourceMappingURL=jsonformat.js.map
window.SINGLE_TAB="  ";window.ImgCollapsed="/eapi/assets/Collapsed.gif";window.ImgExpanded="/eapi/assets/Expanded.gif";window.QuoteKeys=!0;function $id(a){return document.getElementById(a)}function IsArray(a){return a&&"object"===typeof a&&"number"===typeof a.length&&!a.propertyIsEnumerable("length")}
function Process(a,b){SetTab();window.IsCollapsible=!0;var c="";try{if(""!=a){var d=eval("["+a+"]");console.log(d);c=ProcessObject(d[0],0,!1,!1,!1);$id("Canvas-"+b).innerHTML="<PRE class='CodeContainer'>"+c+"</PRE>"}}catch(g){alert("JSON\u6570\u636e\u683c\u5f0f\u4e0d\u6b63\u786e:\n"+g.message),$id("Canvas-"+b).innerHTML=""}}window._dateObj=new Date;window._regexpObj=RegExp();
function ProcessObject(a,b,c,d,g){var e="";c=c?"<span class='Comma'>,</span> ":"";var f=typeof a;if(IsArray(a))if(0==a.length)e+=GetRow(b,"<span class='ArrayBrace'>[ ]</span>"+c,g);else{for(var f=window.IsCollapsible?'<span><img src="'+window.ImgExpanded+'" onClick="ExpImgClicked(this)" /></span><span class=\'collapsible\'>':"",e=e+GetRow(b,"<span class='ArrayBrace'>[</span>"+f,g),h=0;h<a.length;h++)e+=ProcessObject(a[h],b+1,h<a.length-1,!0,!1);f=window.IsCollapsible?"</span>":"";e+=GetRow(b,f+"<span class='ArrayBrace'>]</span>"+
c)}else if("object"==f)if(null==a)e+=FormatLiteral("null","",c,b,d,"Null");else if(a.constructor==window._dateObj.constructor)e+=FormatLiteral("new Date("+a.getTime()+") /*"+a.toLocaleString()+"*/","",c,b,d,"Date");else if(a.constructor==window._regexpObj.constructor)e+=FormatLiteral("new RegExp("+a+")","",c,b,d,"RegExp");else{d=0;for(h in a)d++;if(0==d)e+=GetRow(b,"<span class='ObjectBrace'>{ }</span>"+c,g);else{f=window.IsCollapsible?'<span><img src="'+window.ImgExpanded+'" onClick="ExpImgClicked(this)" /></span><span class=\'collapsible\'>':
"";e+=GetRow(b,"<span class='ObjectBrace'>{</span>"+f,g);g=0;for(h in a)f=window.QuoteKeys?'"':"",e+=GetRow(b+1,"<span class='PropertyName'>"+f+h+f+"</span>: "+ProcessObject(a[h],b+1,++g<d,!1,!0));f=window.IsCollapsible?"</span>":"";e+=GetRow(b,f+"<span class='ObjectBrace'>}</span>"+c)}}else"number"==f?e+=FormatLiteral(a,"",c,b,d,"Number"):"boolean"==f?e+=FormatLiteral(a,"",c,b,d,"Boolean"):"function"==f?a.constructor==window._regexpObj.constructor?e+=FormatLiteral("new RegExp("+a+")","",c,b,d,"RegExp"):
(a=FormatFunction(b,a),e+=FormatLiteral(a,"",c,b,d,"Function")):e="undefined"==f?e+FormatLiteral("undefined","",c,b,d,"Null"):e+FormatLiteral(a.toString().split("\\").join("\\\\").split('"').join('\\"'),'"',c,b,d,"String");return e}function FormatLiteral(a,b,c,d,g,e){"string"==typeof a&&(a=a.split("<").join("&lt;").split(">").join("&gt;"));a="<span class='"+e+"'>"+b+a+b+c+"</span>";g&&(a=GetRow(d,a));return a}
function FormatFunction(a,b){for(var c="",d=0;d<a;d++)c+=window.TAB;a=b.toString().split("\n");b="";for(d=0;d<a.length;d++)b+=(0==d?"":c)+a[d]+"\n";return b}function GetRow(a,b,c){for(var d="",g=0;g<a&&!c;g++)d+=window.TAB;null!=b&&0<b.length&&"\n"!=b.charAt(b.length-1)&&(b+="\n");return d+b}function CollapsibleViewClicked(){$id("CollapsibleViewDetail").style.visibility=$id("CollapsibleView").checked?"visible":"hidden";Process()}
function QuoteKeysClicked(){window.QuoteKeys=$id("QuoteKeys").checked;Process()}function CollapseAllClicked(){EnsureIsPopulated();TraverseChildren($id("Canvas"),function(a){"collapsible"==a.className&&MakeContentVisible(a,!1)},0)}function ExpandAllClicked(){EnsureIsPopulated();TraverseChildren($id("Canvas"),function(a){"collapsible"==a.className&&MakeContentVisible(a,!0)},0)}
function MakeContentVisible(a,b){var c=a.previousSibling.firstChild;c.tagName&&"img"==c.tagName.toLowerCase()&&(a.style.display=b?"inline":"none",a.previousSibling.firstChild.src=b?window.ImgExpanded:window.ImgCollapsed)}function TraverseChildren(a,b,c){for(var d=0;d<a.childNodes.length;d++)TraverseChildren(a.childNodes[d],b,c+1);b(a,c)}
function ExpImgClicked(a){var b=a.parentNode.nextSibling;if(b){var c="none",d=window.ImgCollapsed;"none"==b.style.display&&(c="inline",d=window.ImgExpanded);b.style.display=c;a.src=d}}function CollapseLevel(a){EnsureIsPopulated();TraverseChildren($id("Canvas"),function(b,c){"collapsible"==b.className&&(c>=a?MakeContentVisible(b,!1):MakeContentVisible(b,!0))},0)}function TabSizeChanged(){Process()}function SetTab(){window.TAB=MultiplyString(1,window.SINGLE_TAB)}
function EnsureIsPopulated(){!$id("Canvas").innerHTML&&$id("RawJson").value&&Process()}function MultiplyString(a,b){for(var c=[],d=0;d<a;d++)c.push(b);return c.join("")}
function SelectAllClicked(){document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges();var a=document.body&&document.body.createTextRange?document.body.createTextRange():document.createRange();a.selectNode?a.selectNode($id("Canvas")):a.moveToElementText&&a.moveToElementText($id("Canvas"));a.select?a.select($id("Canvas")):window.getSelection().addRange(a)}
function LinkToJson(){var a=$id("RawJson").value,a=escape(a.split("/n").join(" ").split("/r").join(" "));$id("InvisibleLinkUrl").value=a;$id("InvisibleLink").submit()};